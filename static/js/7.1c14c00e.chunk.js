(this.webpackJsonpsocial_typescript=this.webpackJsonpsocial_typescript||[]).push([[7],{230:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(60),r=n(231),s=n(0),c=n.n(s),i=n(233),l=n.n(i),u=n(237),o=n.n(u),m=function(e){var t=e.className,n=e.children,s=e.onClick,i=e.white,u=Object(r.a)(e,["className","children","onClick","white"]);return c.a.createElement("button",Object.assign({},u,{className:l()(o.a.button,t,Object(a.a)({},o.a.white,i)),onClick:s}),n)}},237:function(e,t,n){e.exports={button:"Button_button__1JzO3"}},314:function(e,t,n){e.exports={user:"User_user__1zYnM",avatar:"User_avatar__oW7ja",description:"User_description__3SD3l",user_name:"User_user_name__e9Waz",status:"User_status__2YHG0",btn:"User_btn__3wpTf",unfollow:"User_unfollow__2-N_C",link_to_profile:"User_link_to_profile__2MccP"}},315:function(e,t,n){e.exports=n.p+"static/media/icons8_user.9dc38257.png"},319:function(e,t,n){e.exports={users_page_num:"Paginator_users_page_num__3fbOR",totalCount:"Paginator_totalCount__2AlRP",pageNumber:"Paginator_pageNumber__2ulUK",selected:"Paginator_selected__1Iegc"}},323:function(e,t,n){e.exports={users_container:"Users_users_container__a_Mm4",users_headline:"Users_users_headline__2Th5l",users_page:"Users_users_page__2-csP"}},327:function(e,t,n){"use strict";n.r(t),n.d(t,"UsersPage",(function(){return T}));var a=n(0),r=n.n(a),s=n(2),c=n(314),i=n.n(c),l=n(315),u=n.n(l),o=n(17),m=n(230),f=function(e){var t=e.user,n=e.follow,a=e.unfollow,s=e.followingInProgress;return r.a.createElement("div",{className:i.a.user},r.a.createElement("div",{className:i.a.avatar},r.a.createElement(o.b,{to:"/profile/"+t.id,className:i.a.link_to_profile},r.a.createElement("img",{alt:"avatar",src:null!=t.photos.large?t.photos.large:u.a}))),r.a.createElement("div",{className:i.a.description},r.a.createElement("div",{className:i.a.user_name},t.name),r.a.createElement("div",{className:i.a.status},"User status: ",t.status),r.a.createElement("div",{className:i.a.status},"User id: ",t.id)),t.followed?r.a.createElement(m.a,{className:i.a.btn,disabled:s.some((function(e){return e===t.id})),onClick:function(){a(t.id)}},"Unfollow"):r.a.createElement(m.a,{className:i.a.btn,disabled:s.some((function(e){return e===t.id})),onClick:function(){n(t.id)}},"Follow"))},_=n(324),d=n(11),b=function(e){return e.usersState.users},p=function(e){return e.usersState.totalUsersCount},g=function(e){return e.usersState.pageSize},E=function(e){return e.usersState.currentPage},v=function(e){return e.usersState.isFetching},O=function(e){return e.usersState.followingInProgress},j=function(e){return e.usersState.filter},h=function(e){return{}},N=r.a.memo((function(e){var t=Object(d.d)(j);return r.a.createElement(_.c,{enableReinitialize:!0,initialValues:{term:t.term,friend:String(t.friend)},validate:h,onSubmit:function(t,n){var a=n.setSubmitting,r={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.onFilterChanged(r),a(!1)}},(function(e){var t=e.isSubmitting;return r.a.createElement(_.b,null,r.a.createElement(_.a,{type:"text",name:"term"}),r.a.createElement(_.a,{name:"friend",as:"select"},r.a.createElement("option",{value:"null"},"All"),r.a.createElement("option",{value:"true"},"Only following"),r.a.createElement("option",{value:"false"},"Only unfollowing")),r.a.createElement("button",{type:"submit",disabled:t},"Find"))}))})),w=n(82),S=n(60),C=n(239),U=n(233),k=n.n(U),P=n(319),y=n.n(P),z=function(e){for(var t=e.currentPage,n=e.onPageChanged,s=e.pageSize,c=e.totalItemsCount,i=e.portionSize,l=void 0===i?10:i,u=Math.ceil(c/s),o=[],f=1;f<=u;f++)o.push(f);var _=Math.ceil(u/l),d=Object(a.useState)(1),b=Object(C.a)(d,2),p=b[0],g=b[1],E=(p-1)*l+1,v=p*l+1;return r.a.createElement("div",{className:y.a.users_page_num},p>1&&r.a.createElement(m.a,{onClick:function(){g(p-1)}},"PREV"),o.filter((function(e){return e>=E&&e<=v})).map((function(e,a){return r.a.createElement("span",{key:"number_items".concat(a),className:k()(Object(S.a)({},y.a.selected,t===e),y.a.pageNumber),onClick:function(){n(e)}},e)})),_>p&&r.a.createElement(m.a,{onClick:function(){return g(p+1)}},"NEXT"))},x=n(8),F=n(320),I=n(323),M=n.n(I),R=function(e){var t=Object(d.d)(O),n=Object(d.d)(p),c=Object(d.d)(E),i=Object(d.d)(g),l=Object(d.d)(j),u=Object(d.d)(b),o=Object(d.c)(),m=Object(x.g)();Object(a.useEffect)((function(){var e=F.parse(m.location.search.substring(1)),t=c,n=l;switch(e.page&&(t=Number(e.page)),e.term&&(n=Object(s.a)(Object(s.a)({},n),{},{term:e.term})),e.friend){case"null":n=Object(s.a)(Object(s.a)({},n),{},{friend:null});break;case"true":n=Object(s.a)(Object(s.a)({},n),{},{friend:!0});break;case"false":n=Object(s.a)(Object(s.a)({},n),{},{friend:!1})}o(Object(w.a)(t,i,n))}),[]),Object(a.useEffect)((function(){var e={};l.term&&(e.term=l.term),null!==l.friend&&(e.friend=String(l.friend)),1!==c&&(e.page=String(c)),m.push({pathname:"/users",search:F.stringify(e)})}),[l,c]);var _=function e(t){o(e(t))},v=function e(t){o(e(t))};return r.a.createElement("div",{className:M.a.users_container},r.a.createElement("div",{className:M.a.users_headline},"Users"),r.a.createElement("div",null,r.a.createElement(N,{onFilterChanged:function(e){o(Object(w.a)(1,i,e))}}),r.a.createElement(z,{currentPage:c,onPageChanged:function(e){o(Object(w.a)(e,i,l))},pageSize:i,totalItemsCount:n}),r.a.createElement("div",{className:M.a.users_page},u.map((function(e){return r.a.createElement(f,{key:e.id,user:e,follow:_,unfollow:v,followingInProgress:t})})))))},J=n(41),T=function(e){var t=Object(d.d)(v);return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(J.a,null):null,r.a.createElement(R,null))}}}]);
//# sourceMappingURL=7.1c14c00e.chunk.js.map