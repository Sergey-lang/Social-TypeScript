{"version":3,"sources":["u2-components/Button/Button.tsx","u2-components/FormControl/FormControl.tsx","../node_modules/classnames/index.js","u2-components/FormControl/FormControl.module.scss","utils/validator.tsx","u2-components/Button/Button.module.scss","u3-pages/Dialogs/Dialogs.module.css","u3-pages/Dialogs/Dialog/Dialog.module.css","u3-pages/Dialogs/Message/Message.module.css","u1-assets/images/user_photo.png","u3-pages/Dialogs/Dialog/Dialog.tsx","u3-pages/Dialogs/Message/Message.tsx","u3-pages/Dialogs/Dialogs.tsx","u7-hoc/withAuthRedirect.tsx","u3-pages/Dialogs/DialogsContainer.ts"],"names":["Button","className","children","onClick","white","restProps","classNames","s","button","FormControl","meta","touched","error","hasError","styles","formControl","childrenWrapperStyle","fieldErrorWrapper","Textarea","props","input","Input","createField","placeholder","name","component","validators","text","validate","hasOwn","hasOwnProperty","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","key","call","join","module","exports","default","required","value","maxLengthCreator","maxLength","Dialog","style","dialog_block","username","to","id","Message","message_block","user_avatar_name","avatar","alt","src","user_name","message","maxLength50","AddNewMessageForm","reduxForm","form","handleSubmit","onSubmit","add_new_message","area_wrapper","button_wrapper","btn","mapStateRedirect","state","isAuth","authState","compose","connect","dialogsPage","dialogsState","addMessage","actions","WrappedComponent","dialogsElement","dialogs","map","d","messagesElement","messages","m","dialogs_container","my_dialogs_headline","message_page","dialogs_wrapper","messages_wrapper","formData","dialogNewMessageText"],"mappings":"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","file":"static/js/5.891db267.chunk.js","sourcesContent":["import React, {ButtonHTMLAttributes, DetailedHTMLProps} from 'react'\r\nimport classNames from 'classnames'\r\n\r\nimport s from './Button.module.scss'\r\n\r\ntype DefaultButtonPropsType = DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>;\r\n\r\ntype ButtonPropsType = DefaultButtonPropsType & {\r\n   white?: boolean\r\n}\r\n\r\nexport const Button: React.FC<ButtonPropsType> = ({className, children, onClick, white, ...restProps}) => {\r\n\r\n   return (\r\n       <button {...restProps}\r\n               className={classNames(s.button, className, {\r\n                  [s.white]: white,\r\n               })}\r\n               onClick={onClick}>{children}\r\n       </button>\r\n   )\r\n}\r\n","import React, {FC} from 'react'\r\nimport s from './FormControl.module.scss'\r\nimport {Field, WrappedFieldMetaProps, WrappedFieldProps} from 'redux-form'\r\nimport {FieldValidatorType} from '../../utils/validator'\r\n\r\ntype FormControlPropsType = {\r\n   meta: WrappedFieldMetaProps\r\n}\r\n\r\nconst FormControl: React.FC<FormControlPropsType> = ({meta: {touched, error}, children}) => {\r\n\r\n   const hasError = touched && error\r\n\r\n   const styles = `${s.formControl}  ${hasError ? s.error : ''}`\r\n\r\n   return (\r\n       <div className={styles}>\r\n          <div className={s.childrenWrapperStyle}>\r\n             {children}\r\n          </div>\r\n          <div className={s.fieldErrorWrapper}>\r\n             {\r\n                hasError && <span>{error}</span>\r\n             }\r\n          </div>\r\n       </div>\r\n   )\r\n}\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\r\n   const {input, meta, ...restProps} = props\r\n   return <FormControl {...props}><textarea {...input}{...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n   const {input, meta, ...restProps} = props\r\n   return <FormControl {...props}>\r\n      <input {...input}{...restProps}/>\r\n   </FormControl>\r\n}\r\n\r\nexport const Checkbox: React.FC<WrappedFieldProps> = (props) => {\r\n   const {input, meta, ...restProps} = props\r\n   return <FormControl {...props}>\r\n      <input {...input}{...restProps}/>\r\n   </FormControl>\r\n}\r\n\r\n//create wrapper\r\nexport const createField = <FormKeysType extends string>(placeholder: string | null,\r\n                                                         name: FormKeysType,\r\n                                                         component: React.FC<WrappedFieldProps>,\r\n                                                         validators: Array<FieldValidatorType>,\r\n                                                         props = {},\r\n                                                         text = '') => (\r\n    <div>\r\n       <Field placeholder={placeholder}\r\n              name={name}\r\n              component={component}\r\n              validate={validators}\r\n\r\n              {...props}/>\r\n       {text}\r\n    </div>\r\n)\r\n\r\n//get all props keys for form without mistakes\r\nexport type GetStringKeys<T> = Extract<keyof T, string>\r\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControl_formControl__Ha6Q3\",\"childrenWrapperStyle\":\"FormControl_childrenWrapperStyle__2-qPh\",\"error\":\"FormControl_error__1zosb\"};","export type FieldValidatorType = (value: string) => string | undefined\r\n\r\nexport const required: FieldValidatorType = (value) => {\r\n    if (value) return undefined;\r\n\r\n    return 'Field id required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number): FieldValidatorType => (value) => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n}\r\n\r\nexport const minLengthCreator = (minLength: number): FieldValidatorType => (value) => {\r\n    if (value && value.length <= minLength) return `Min length is ${minLength} symbols`;\r\n\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1JzO3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs_container\":\"Dialogs_dialogs_container__39mtK\",\"my_dialogs_headline\":\"Dialogs_my_dialogs_headline__3nB4O\",\"message_page\":\"Dialogs_message_page__1PEt_\",\"dialogs_wrapper\":\"Dialogs_dialogs_wrapper__2HSTx\",\"messages_wrapper\":\"Dialogs_messages_wrapper__3Pa0v\",\"message_block\":\"Dialogs_message_block__2rQRH\",\"add_new_message\":\"Dialogs_add_new_message__8LafS\",\"area\":\"Dialogs_area__2I26a\",\"button_wrapper\":\"Dialogs_button_wrapper__2MSgl\",\"btn\":\"Dialogs_btn__1P2YA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog_block\":\"Dialog_dialog_block__tCgo5\",\"username\":\"Dialog_username__20mHK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message_block\":\"Message_message_block__2T274\",\"user_avatar_name\":\"Message_user_avatar_name__3CiwW\",\"avatar\":\"Message_avatar__2LjZF\",\"user_name\":\"Message_user_name__YwxR0\",\"message\":\"Message_message__1qSHI\"};","module.exports = \"data:image/png;base64,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\"","import React from 'react'\r\nimport style from './Dialog.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\ntype PropsType = {\r\n   id: number\r\n   name: string\r\n}\r\n\r\nexport const Dialog: React.FC<PropsType> = (props) => {\r\n   return (\r\n       <div className={style.dialog_block}>\r\n          <div className={style.username}>\r\n             <span><NavLink to={'/dialogs/' + props.id}>{props.name}</NavLink></span>\r\n          </div>\r\n       </div>\r\n   )\r\n}\r\n","import React from 'react'\r\nimport style from './Message.module.css'\r\nimport avatar from '../../../u1-assets/images/user_photo.png'\r\n\r\ntype PropsType = {\r\n   message: string\r\n   id: number\r\n}\r\n\r\nexport const Message: React.FC<PropsType> = (props) => {\r\n   return (\r\n       <div className={style.message_block}>\r\n          <div className={style.user_avatar_name}>\r\n             <div className={style.avatar}><img alt={'avatar'} src={avatar}/></div>\r\n             <div className={style.user_name}>user name</div>\r\n          </div>\r\n          <div className={style.message}>\r\n             <p>{props.message}\r\n             </p>\r\n          </div>\r\n       </div>\r\n   )\r\n}\r\n","import React from 'react'\r\nimport s from './Dialogs.module.css'\r\nimport {Dialog} from './Dialog/Dialog'\r\nimport {Message} from './Message/Message'\r\nimport {mapDispatchType, MapStateType} from './DialogsContainer'\r\nimport {maxLengthCreator, required} from '../../utils/validator'\r\nimport {InjectedFormProps, reduxForm} from 'redux-form'\r\nimport {createField, Textarea} from '../../u2-components/FormControl/FormControl'\r\nimport {Button} from '../../u2-components/Button/Button'\r\n\r\ntype OwnProps = {}\r\n\r\ntype OwnPropsType = MapStateType & mapDispatchType & OwnProps\r\n\r\nexport const Dialogs: React.FC<OwnPropsType> = ({dialogsPage, addMessage, ...props}) => {\r\n\r\n   let dialogsElement = dialogsPage.dialogs.map(d => <Dialog id={d.id} name={d.name} key={d.id}/>)\r\n   let messagesElement = dialogsPage.messages.map(m => <Message id={m.id} message={m.message} key={m.id}/>)\r\n\r\n   const sendMessageCallback = (formData: DialogFormValuesType) => {\r\n      addMessage(formData.dialogNewMessageText)\r\n   }\r\n\r\n   return (\r\n       <div className={s.dialogs_container}>\r\n          <div className={s.my_dialogs_headline}>Dialogs</div>\r\n          <div className={s.message_page}>\r\n             <div className={s.dialogs_wrapper}>\r\n                {dialogsElement}\r\n             </div>\r\n             <div className={s.messages_wrapper}>\r\n                <div className={s.message_block}>\r\n                   {messagesElement}\r\n                </div>\r\n                <AddNewMessageForm onSubmit={sendMessageCallback}/>\r\n             </div>\r\n          </div>\r\n       </div>\r\n   )\r\n}\r\n\r\nconst maxLength50 = maxLengthCreator(50)\r\n\r\nexport const AddMessage: React.FC<InjectedFormProps<DialogFormValuesType, DialogFormOwnProps> & DialogFormOwnProps> = ({\r\n                                                                                                                          handleSubmit,\r\n                                                                                                                          error\r\n                                                                                                                       }) => {\r\n\r\n   return (\r\n       <form onSubmit={handleSubmit}>\r\n          <div className={s.add_new_message}>\r\n             <div className={s.area_wrapper}>\r\n                {createField('Send message', 'dialogNewMessageText', Textarea, [required, maxLength50])}\r\n             </div>\r\n             <div className={s.button_wrapper}>\r\n                <Button className={s.btn}>Send message</Button>\r\n             </div>\r\n          </div>\r\n       </form>\r\n   )\r\n}\r\n\r\nexport type DialogFormValuesType = {\r\n   dialogNewMessageText: string\r\n}\r\n\r\nexport type DialogFormOwnProps = {}\r\n\r\nconst AddNewMessageForm = reduxForm<DialogFormValuesType, DialogFormOwnProps>({form: 'dialogAddMessageForm'})(AddMessage)\r\n","import React from 'react'\r\nimport {Redirect} from 'react-router-dom'\r\nimport {AppStateType} from '../u4-redux/store'\r\nimport {connect} from 'react-redux'\r\n\r\ntype MapStateRedirectType = {\r\n   isAuth: boolean\r\n}\r\ntype DispatchStateType = {}\r\nconst mapStateRedirect = (state: AppStateType) => ({\r\n   isAuth: state.authState.isAuth\r\n} as MapStateRedirectType)\r\n\r\nexport function withAuthRedirect<WCP>(WrappedComponent: React.ComponentType<WCP>) {\r\n\r\n   const RedirectComponent: React.FC<MapStateRedirectType & DispatchStateType> = (props) => {\r\n      let {isAuth, ...restProps} = props\r\n      if (!isAuth) return <Redirect to='/login'/>\r\n      return <WrappedComponent {...restProps as WCP}/>\r\n   }\r\n\r\n   let ConnectedAuthRedirectComponent = connect<MapStateRedirectType, DispatchStateType, WCP, AppStateType>(mapStateRedirect, {})(RedirectComponent)\r\n\r\n   return ConnectedAuthRedirectComponent\r\n}","import {actions, DialogInitStateType} from '../../u4-redux/dialogs-reducer'\r\nimport {AppStateType} from '../../u4-redux/store'\r\nimport {connect} from 'react-redux'\r\nimport {Dialogs} from './Dialogs'\r\nimport {ComponentType} from 'react'\r\nimport {withAuthRedirect} from '../../u7-hoc/withAuthRedirect'\r\nimport {compose} from 'redux'\r\n\r\nexport type mapDispatchType = {\r\n   addMessage: (dialogNewMessageText: any) => void\r\n}\r\nexport type MapStateType = {\r\n   dialogsPage: DialogInitStateType\r\n}\r\n\r\nlet mapState = (state: AppStateType): MapStateType => ({dialogsPage: state.dialogsState})\r\n\r\nexport default compose<ComponentType>(\r\n    connect<MapStateType, mapDispatchType, {}, AppStateType>\r\n    (mapState, {addMessage: actions.addMessage}),\r\n    withAuthRedirect\r\n)(Dialogs)\r\n\r\n"],"sourceRoot":""}