{"version":3,"sources":["u3-pages/00-Header/Header.module.scss","u4-redux/app-reducer.ts","u4-redux/store.ts","serviceWorker.ts","u3-pages/00-Header/Header.tsx","u3-pages/00-Header/HeaderContainer.tsx","u7-hoc/withSuspense.tsx","u3-pages/01-Main/Main.tsx","u6-app/App.tsx","index.tsx","u5-api/auth-api.ts","u5-api/security-api.ts","u4-redux/auth-reducer.ts","u2-components/Preloader/Preloader.tsx","u1-assets/images/header/question-mark-128.png","u6-app/App.module.scss","u3-pages/01-Main/Main.module.scss","u5-api/profile-api.ts","u4-redux/profile-reducer.ts","u4-redux/dialogs-reducer.ts","u5-api/api.ts","u5-api/user-api.ts","u4-redux/users-reducer.ts","u1-assets/images/logo.svg","u1-assets/images/header/exit-100.png","u1-assets/images/app/preloader.gif","u2-components/Preloader/Preloader.module.scss"],"names":["module","exports","initializeState","initialized","initializedSuccess","type","rootReducer","combineReducers","profileState","profileReducer","dialogsState","dialogsReducer","usersState","usersReducer","authState","authReducer","app","state","action","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Boolean","location","hostname","match","Header","props","smallProfileImg","useSelector","profile","photos","small","className","s","topBar","logoWrapper","logoLink","href","logoImg","src","alt","logoName","topArea","pageNameWrapper","pageName","useLocation","pathname","substring","userImg","isAuth","isAuthState","login","undefinedUserImg","to","exitIconWrapper","exit","onClick","logout","exitIcon","HeaderContainer","this","React","Component","connect","getAuthUserData","withSuspense","WrappedComponent","restProps","Suspense","fallback","Preloader","Main","largeProfileImg","large","userName","fullName","mainBlockWrapper","gap","row","userProfile","mainBg","profileAuthor","profileImgBlock","mainAuthorImg","imageUpload","inputLabel","photoLoad","profileNavSection","navTabs","shortAuthorInfo","country","navLinks","active","activeClassName","Login","lazy","ProfileContainer","DialogsContainer","UsersContainer","App","initializeApp","container","content","path","render","withRouter","dispatch","promise","Promise","all","then","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message","authAPI","axiosInstance","get","res","data","email","password","rememberMe","captcha","post","delete","securityAPI","id","captchaUrl","setUserData","getCaptchaUrlSuccess","a","resultCode","getCaptchaUrl","messages","length","stopSubmit","_error","url","preloader","profileAPI","userId","status","put","photoFile","formData","FormData","append","headers","initialState","posts","likeCount","postNewMessageText","userStatus","addPost","setOwnProfileStatus","getUserProfileData","getStatusFromUser","updateOwnProfileStatus","savePhoto","file","saveProfileData","getState","reject","dialogs","name","dialogNewMessageText","addMessage","axios","create","withCredentials","baseURL","usersAPI","currentPage","pageSize","users","totalUsersCount","isFetching","followingInProgress","map","u","userID","followed","totalCount","payload","filter","setCurrentPage","toggleIsFetching","toggleFollowingProgress","requestUsers","requestPage","items","follow","unfollow"],"mappings":"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","file":"static/js/main.88bb6cd7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"topBar\":\"Header_topBar__1JlMN\",\"logoWrapper\":\"Header_logoWrapper__1Eqli\",\"logoLink\":\"Header_logoLink__22jEB\",\"logoName\":\"Header_logoName__2tj3N\",\"logoImg\":\"Header_logoImg__DvpCQ\",\"topArea\":\"Header_topArea__3PfeR\",\"pageNameWrapper\":\"Header_pageNameWrapper__3MdFA\",\"pageName\":\"Header_pageName__1CJez\",\"userImg\":\"Header_userImg__2L55j\",\"isAuthState\":\"Header_isAuthState__3RC2C\",\"login\":\"Header_login__1a4gj\",\"exitIconWrapper\":\"Header_exitIconWrapper__3Br4I\",\"exit\":\"Header_exit__1vFxA\",\"exitIcon\":\"Header_exitIcon__337ia\"};","import {ThunkAction, ThunkDispatch} from 'redux-thunk'\r\nimport {AppStateType} from './store'\r\nimport {getAuthUserData} from './auth-reducer'\r\n\r\nexport type AppInitPageType = {\r\n   initialized: boolean\r\n}\r\n\r\nlet initializeState: AppInitPageType = {\r\n   initialized: false\r\n}\r\n\r\nexport const appReducer = (state: AppInitPageType = initializeState, action: ActionsType): AppInitPageType => {\r\n   switch (action.type) {\r\n      case 'APP/INITIALIZED_SUCCESS':\r\n         return {...state, initialized: true}\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\n//Action\r\nexport const initializedSuccess = () => ({\r\n   type: 'APP/INITIALIZED_SUCCESS',\r\n} as const)\r\n\r\n//Thunk\r\nexport const initializeApp = (): ThunkType =>\r\n    (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\r\n       let promise = dispatch(getAuthUserData())\r\n       Promise.all([promise])\r\n           .then(() => {\r\n              dispatch(initializedSuccess)\r\n           })\r\n    }\r\n\r\n//Type\r\ntype ThunkType = ThunkAction<void, AppStateType, unknown, ActionsType>\r\ntype ActionsType = ReturnType<typeof initializedSuccess>\r\n\r\n\r\n\r\n","import {applyMiddleware, combineReducers, compose, createStore} from 'redux'\r\nimport {profileReducer} from './profile-reducer'\r\nimport {dialogsReducer} from './dialogs-reducer'\r\nimport {usersReducer} from './users-reducer'\r\nimport {authReducer} from './auth-reducer'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport {appReducer} from './app-reducer'\r\n\r\nconst rootReducer = combineReducers({\r\n   profileState: profileReducer,\r\n   dialogsState: dialogsReducer,\r\n   usersState: usersReducer,\r\n   authState: authReducer,\r\n   app: appReducer,\r\n   form: formReducer,\r\n})\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\n\r\n//@ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport let store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)))\r\n\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the u6-app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve u1-assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web u6-app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different u6-app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react'\r\nimport s from './Header.module.scss'\r\nimport {NavLink, useLocation} from 'react-router-dom'\r\n\r\nimport logoImg from './../../u1-assets/images/logo.svg'\r\nimport undefinedUserImg from './../../u1-assets/images/header/question-mark-128.png'\r\nimport exit from './../../u1-assets/images/header/exit-100.png'\r\nimport {useSelector} from 'react-redux'\r\nimport {AppStateType} from '../../u4-redux/store'\r\n\r\ntype HeaderPropsType = {\r\n   isAuth: boolean\r\n   login: string | null\r\n   logout: () => void\r\n}\r\n\r\nexport const Header: React.FC<HeaderPropsType> = (props) => {\r\n\r\n   //get current url, rerender too much!!!\r\n   const HeaderView = () => {\r\n      return useLocation().pathname.substring(1)\r\n   }\r\n\r\n   const smallProfileImg = useSelector<AppStateType, string | null | undefined>(state => state.profileState.profile?.photos.small)\r\n\r\n   return (\r\n       <div className={s.topBar}>\r\n          <div className={s.logoWrapper}>\r\n             <a className={s.logoLink} href=\"#\">\r\n                <img className={s.logoImg} src={logoImg} alt=\"logo\"/>\r\n                <h4 className={s.logoName}>SOCIAL LOGO</h4>\r\n             </a>\r\n          </div>\r\n          <div className={s.topArea}>\r\n             <div className={s.pageNameWrapper}>\r\n                <span className={s.pageName}>\r\n                   {HeaderView()}\r\n                </span>\r\n             </div>\r\n             <div className={s.userImg}>\r\n                {\r\n                   props.isAuth\r\n                       ? <>\r\n                          <h5 className={s.isAuthState}>{props.login}</h5>\r\n                          <img src={smallProfileImg ? smallProfileImg : undefinedUserImg} alt=\"userPhoto\"/>\r\n                       </>\r\n                       : <NavLink to={'/login'} className={s.login}>LOGIN</NavLink>\r\n                }\r\n             </div>\r\n             <span className={s.exitIconWrapper}>\r\n                {\r\n                   props.isAuth\r\n                   && <a className={s.exit} href=\"#\" onClick={props.logout}>\r\n                      <img className={s.exitIcon} src={exit} alt=\"settings\"/>\r\n                   </a>\r\n                }\r\n             </span>\r\n          </div>\r\n       </div>\r\n   )\r\n}\r\n","import React from 'react'\r\nimport {Header} from './Header'\r\nimport {AppStateType} from '../../u4-redux/store'\r\nimport {connect} from 'react-redux'\r\nimport {getAuthUserData, logout} from '../../u4-redux/auth-reducer'\r\n\r\ntype OwnPropsType = MapStateType & MapDispatchType\r\n\r\nclass HeaderContainer extends React.Component<OwnPropsType> {\r\n   render() {\r\n      return <Header login={this.props.login}\r\n                     isAuth={this.props.isAuth}\r\n                     logout={this.props.logout}\r\n      />\r\n   }\r\n}\r\n\r\ntype MapStateType = {\r\n   isAuth: boolean\r\n   login: string | null\r\n}\r\n\r\ntype MapDispatchType = {\r\n   getAuthUserData: () => void\r\n   logout: () => void\r\n}\r\n\r\nconst mapState = (state: AppStateType): MapStateType => ({\r\n   isAuth: state.authState.isAuth,\r\n   login: state.authState.login,\r\n})\r\n\r\nexport default connect<MapStateType, MapDispatchType, {}, AppStateType>(\r\n    mapState,\r\n    {getAuthUserData, logout}\r\n)(HeaderContainer)\r\n","import React from 'react'\r\nimport {Preloader} from '../u2-components/Preloader/Preloader'\r\n\r\nexport function withSuspense<WCP>(WrappedComponent: React.ComponentType<WCP>) {\r\n   return (props: any) => {\r\n      let {...restProps} = props\r\n      return (\r\n          <React.Suspense fallback={<Preloader/>}>\r\n             <WrappedComponent {...restProps as WCP}/>\r\n          </React.Suspense>\r\n      )\r\n   }\r\n}\r\n","import React from 'react'\r\n\r\nimport s from './Main.module.scss'\r\nimport undefinedUserImg from './../../u1-assets/images/header/question-mark-128.png'\r\nimport {NavLink} from 'react-router-dom'\r\nimport {useSelector} from 'react-redux'\r\nimport {AppStateType} from '../../u4-redux/store'\r\n\r\nexport const Main = () => {\r\n\r\n   // const mainPhotoSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n   //    if (e.target.files !== null && e.target.files.length) {\r\n   //       savePhoto(e.target.files[0])\r\n   //    }\r\n   // }\r\n\r\n   const largeProfileImg = useSelector<AppStateType, string | null | undefined>(state => state.profileState.profile?.photos.large)\r\n\r\n   const userName = useSelector<AppStateType, string | null | undefined>(state => state.profileState.profile?.fullName)\r\n   const isOwner = true\r\n\r\n   return (\r\n       <div className={s.mainBlockWrapper}>\r\n          <div className={s.gap}>\r\n             <div className={s.row}>\r\n                <div className={s.userProfile}>\r\n                   <div className={s.mainBg}>\r\n                      <div className={s.profileAuthor}>\r\n                         <div className={s.profileImgBlock}>\r\n                            <img className={s.mainAuthorImg} src={largeProfileImg ? largeProfileImg : undefinedUserImg}\r\n                                 alt=\"author\"/>\r\n                            {\r\n                               isOwner &&\r\n                               <div className={s.imageUpload}>\r\n                                  <label className={s.inputLabel}>\r\n                                     <input className={s.photoLoad} type=\"file\"/>\r\n                                  </label>\r\n                               </div>\r\n                            }\r\n                         </div>\r\n                      </div>\r\n                   </div>\r\n                   <div className={s.profileNavSection}>\r\n                      <div className={s.navTabs}>\r\n                         <div className={s.shortAuthorInfo}>\r\n                            <div className={s.userName}>{userName}</div>\r\n                            <div className={s.country}>Minsk, BY</div>\r\n                         </div>\r\n                         <ul className={s.navLinks}>\r\n                            <li className={s.active}>\r\n                               <NavLink to=\"/profile\" activeClassName={s.active}>About</NavLink>\r\n                            </li>\r\n                            <li>\r\n                               <NavLink to=\"/followers\" activeClassName={s.active}>Followers</NavLink>\r\n                            </li>\r\n                            <li>\r\n                               <NavLink to=\"/follow\" activeClassName={s.active}>Follow</NavLink>\r\n                            </li>\r\n                            <li>\r\n                               <NavLink to=\"/dialogs\" activeClassName={s.active}>Dialogs</NavLink>\r\n                            </li>\r\n                            <li>\r\n                               <NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink>\r\n                            </li>\r\n                         </ul>\r\n                      </div>\r\n                   </div>\r\n                </div>\r\n             </div>\r\n          </div>\r\n       </div>\r\n   )\r\n}","import React, {ComponentType} from 'react'\r\nimport s from './App.module.scss'\r\nimport HeaderContainer from '../u3-pages/00-Header/HeaderContainer'\r\nimport {Route, withRouter} from 'react-router-dom'\r\nimport {AppStateType} from '../u4-redux/store'\r\nimport {connect} from 'react-redux'\r\nimport {initializeApp} from '../u4-redux/app-reducer'\r\nimport {compose} from 'redux'\r\nimport {Preloader} from '../u2-components/Preloader/Preloader'\r\nimport {withSuspense} from '../u7-hoc/withSuspense'\r\nimport {Main} from '../u3-pages/01-Main/Main'\r\n\r\ntype PropsType = MapStateType & MapDispatch\r\n\r\nconst Login = React.lazy(() => import('../u3-pages/Login/Login'))\r\nconst ProfileContainer = React.lazy(() => import('../u3-pages/Profile/ProfileContainer'))\r\nconst DialogsContainer = React.lazy(() => import('../u3-pages/Dialogs/DialogsContainer'))\r\nconst UsersContainer = React.lazy(() => import('../u3-pages/Users/UsersContainer'))\r\n\r\nclass App extends React.Component<PropsType> {\r\n\r\n   componentDidMount() {\r\n      this.props.initializeApp()\r\n   }\r\n\r\n   render() {\r\n\r\n      if (this.props.initialized) {\r\n         return <Preloader/>\r\n      }\r\n\r\n      return (\r\n          <div className={s.app}>\r\n             <HeaderContainer/>\r\n             <div className={s.container}>\r\n                <Main/>\r\n                <div className={s.content}>\r\n                   <Route path=\"/profile/:userid?\" render={withSuspense(ProfileContainer)}/>\r\n                   <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)}/>\r\n                   <Route path=\"/users\" render={withSuspense(UsersContainer)}/>\r\n                   <Route path=\"/login\" render={withSuspense(Login)}/>\r\n                </div>\r\n             </div>\r\n          </div>\r\n\r\n      )\r\n   }\r\n}\r\n\r\ntype MapDispatch = {\r\n   initializeApp: () => void\r\n}\r\n\r\ntype MapStateType = {\r\n   initialized: boolean\r\n}\r\n\r\nconst mapState = (state: AppStateType): MapStateType => ({\r\n   initialized: state.app.initialized\r\n})\r\n\r\nexport default compose<ComponentType>(\r\n    withRouter,\r\n    connect<MapStateType, MapDispatch, {}, AppStateType>(mapState, {initializeApp}),\r\n)(App)\r\n","import {store} from './u4-redux/store';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {HashRouter} from 'react-router-dom';\r\nimport {Provider} from 'react-redux';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './u6-app/App';\r\nimport React from 'react';\r\nimport './index.scss';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <Provider store={store}>\r\n        <App/>\r\n      </Provider>\r\n    </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your u6-app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();","import {axiosInstance} from './api'\r\n\r\nexport const authAPI = {\r\n   me() {\r\n      return axiosInstance.get(`auth/me`)\r\n          .then(res => res.data)\r\n   },\r\n   login(email: string, password: string, rememberMe: boolean = false, captcha: string | null = null) {\r\n      return axiosInstance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n          .then(res => res.data)\r\n   },\r\n   logout() {\r\n      return axiosInstance.delete(`auth/login`,)\r\n          .then(res => res.data)\r\n   },\r\n}","import {axiosInstance} from './api';\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return axiosInstance.get(`security/get-captcha-url`)\r\n            .then(res => res.data)\r\n    },\r\n}","import {ThunkAction, ThunkDispatch} from 'redux-thunk'\r\nimport {AppStateType} from './store'\r\nimport {authAPI} from '../u5-api/auth-api'\r\nimport {FormAction, stopSubmit} from 'redux-form'\r\nimport {securityAPI} from '../u5-api/security-api'\r\n\r\nexport type AuthInitPageType = {\r\n   id: number | null\r\n   email: string | null\r\n   login: string | null\r\n   isAuth: boolean\r\n   captchaUrl: string | null\r\n}\r\n\r\nlet initializeState: AuthInitPageType = {\r\n   id: null,\r\n   email: null,\r\n   login: null,\r\n   isAuth: false,\r\n   captchaUrl: null\r\n}\r\n\r\nexport const authReducer = (state: AuthInitPageType = initializeState, action: ActionsType): AuthInitPageType => {\r\n   switch (action.type) {\r\n      case 'AUTH/SET-USER-DATA':\r\n      case 'AUTH/GET-CAPTCHA-URL':\r\n         return {...state, ...action.data}\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\n//Action\r\nexport const setUserData = (id: number | null, email: string | null, login: string | null, isAuth: boolean) => ({\r\n   type: 'AUTH/SET-USER-DATA',\r\n   data: {id, email, login, isAuth},\r\n} as const)\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl: string) => ({\r\n   type: 'AUTH/GET-CAPTCHA-URL',\r\n   data: {captchaUrl},\r\n} as const)\r\n\r\n//Thunk\r\nexport const getAuthUserData = (): ThunkType =>\r\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\r\n       const data = await authAPI.me()\r\n       if (data.resultCode === 0) {\r\n          let {id, email, login} = data.data\r\n          dispatch(setUserData(id, email, login, true))\r\n       }\r\n    }\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string | null = null): ThunkType =>\r\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType | FormAction>) => {\r\n       const data = await authAPI.login(email, password, rememberMe, captcha)\r\n       if (data.resultCode === 0) {\r\n          dispatch(getAuthUserData())\r\n       } else {\r\n          //captcha\r\n          if (data.resultCode === 10) {\r\n             dispatch(getCaptchaUrl())\r\n          }\r\n          //incorrect form value\r\n          let messages = data.messages.length > 0 ? data.messages[0] : 'some error'\r\n          dispatch(stopSubmit('login', {_error: messages}))\r\n       }\r\n    }\r\n\r\nexport const getCaptchaUrl = (): ThunkType =>\r\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\r\n       const data = await securityAPI.getCaptchaUrl()\r\n       const captchaUrl: string = data.url\r\n       dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n    }\r\n\r\nexport const logout = (): ThunkType =>\r\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\r\n       const response = await authAPI.logout()\r\n       if (response.resultCode === 0) {\r\n          dispatch(setUserData(null, null, null, false))\r\n       }\r\n    }\r\n\r\n//Type\r\ntype ThunkType = ThunkAction<void, AppStateType, unknown, ActionsType>\r\ntype ActionsType = ReturnType<typeof setUserData> | ReturnType<typeof getCaptchaUrlSuccess>\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport preloader from '../../u1-assets/images/app/preloader.gif'\r\n\r\nimport s from './Preloader.module.scss'\r\n\r\nexport const Preloader: React.FC = () => {\r\n   return (\r\n       <div className={s.preloader}>\r\n          <img src={preloader} alt=\"preloader\"/>\r\n       </div>\r\n   )\r\n}\r\n\r\n","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__8Lvoj\",\"container\":\"App_container__tE7yj\",\"content\":\"App_content__2Fok0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainBlockWrapper\":\"Main_mainBlockWrapper__3gX3C\",\"row\":\"Main_row__2TdNz\",\"userProfile\":\"Main_userProfile__2J4UP\",\"mainBg\":\"Main_mainBg__3DlhK\",\"profileAuthor\":\"Main_profileAuthor__2lAub\",\"profileImgBlock\":\"Main_profileImgBlock__1RmlM\",\"mainAuthorImg\":\"Main_mainAuthorImg__33-zL\",\"imageUpload\":\"Main_imageUpload__2lr9m\",\"inputLabel\":\"Main_inputLabel__1PsbV\",\"photoLoad\":\"Main_photoLoad__2X6A8\",\"profileNavSection\":\"Main_profileNavSection__3uFN0\",\"navTabs\":\"Main_navTabs__3VhVw\",\"shortAuthorInfo\":\"Main_shortAuthorInfo__3DVni\",\"userName\":\"Main_userName__39RxH\",\"country\":\"Main_country__3m3qz\",\"navLinks\":\"Main_navLinks__IHY4A\",\"active\":\"Main_active__2moxR\"};","import {axiosInstance} from './api'\r\nimport {ProfileType} from '../u4-redux/profile-reducer'\r\n\r\nexport const profileAPI = {\r\n   getProfile(userId: number) {\r\n      return axiosInstance.get(`profile/${userId}`)\r\n          .then(res => res.data)\r\n   },\r\n\r\n   getUserStatus(userId: number) {\r\n      return axiosInstance.get(`profile/status/${userId}`)\r\n          .then(res => res)\r\n   },\r\n\r\n   updateOwnProfileStatus(status: string) {\r\n      return axiosInstance.put<UpdateStatusType>(`profile/status`, {status})\r\n          .then(res => res.data)\r\n   },\r\n   savePhoto(photoFile: File) {\r\n      const formData = new FormData()\r\n      formData.append('image', photoFile)\r\n      return axiosInstance.put<UpdateStatusType>(`profile/photo`, formData, {\r\n         headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n         }\r\n      }).then(res => res.data)\r\n   },\r\n   saveProfile(profile: ProfileType) {\r\n      return axiosInstance.put<UpdateStatusType>(`profile/`, profile)\r\n          .then(res => res.data)\r\n   },\r\n}\r\n\r\ntype UpdateStatusType = {\r\n   resultCode: number\r\n   messages: string\r\n   data: any\r\n}","import {ThunkAction, ThunkDispatch} from 'redux-thunk'\r\nimport {AppStateType} from './store'\r\nimport {profileAPI} from '../u5-api/profile-api'\r\nimport {FormAction, stopSubmit} from 'redux-form'\r\n\r\nlet initialState = {\r\n   posts: [\r\n      {id: 1, message: 'Hello I am props.', likeCount: 21},\r\n      {id: 2, message: 'I am very handsome props', likeCount: 10},\r\n      {id: 3, message: 'I go out from my post u3-pages', likeCount: 5},\r\n   ] as Array<PostType>,\r\n   profile: null as ProfileType | null,\r\n   status: ''\r\n}\r\n\r\nexport type ProfileInitialStateType = typeof initialState\r\n\r\nexport const profileReducer = (state: ProfileInitialStateType = initialState,\r\n                               action: ActionsType): ProfileInitialStateType => {\r\n   switch (action.type) {\r\n      case 'PROFILE/ADD-POST':\r\n         return {\r\n            ...state,\r\n            posts: [{id: 4, message: action.postNewMessageText, likeCount: 0}, ...state.posts],\r\n         }\r\n      case 'PROFILE/SET-USER-PROFILE':\r\n         return {...state, profile: action.profile}\r\n      case 'PROFILE/GET-USER-STATUS':\r\n         return {...state, status: action.userStatus}\r\n      case 'PROFILE/UPDATE-PROFILE-STATUS':\r\n         return {...state, status: action.status}\r\n      case 'PROFILE/SAVE-PHOTO-SUCCESS':\r\n         return {...state, profile: {...state.profile, photos: action.photos} as ProfileType}\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\n//Action\r\nexport const addPost = (postNewMessageText: string) =>\r\n    ({type: 'PROFILE/ADD-POST', postNewMessageText} as const)\r\n\r\nexport const setUserProfileData = (profile: ProfileType) =>\r\n    ({type: 'PROFILE/SET-USER-PROFILE', profile} as const)\r\n\r\nexport const getUserStatus = (userStatus: string) =>\r\n    ({type: 'PROFILE/GET-USER-STATUS', userStatus} as const)\r\n\r\nexport const setOwnProfileStatus = (status: string) =>\r\n    ({type: 'PROFILE/UPDATE-PROFILE-STATUS', status} as const)\r\n\r\nexport const savePhotoSuccess = (photos: PhotosType) => ({type: 'PROFILE/SAVE-PHOTO-SUCCESS', photos} as const)\r\n\r\n//Thunk\r\nexport const getUserProfileData = (userId: number): ThunkType =>\r\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\r\n       const data = await profileAPI.getProfile(userId)\r\n       dispatch(setUserProfileData(data))\r\n    }\r\n\r\nexport const getStatusFromUser = (userId: number): ThunkType =>\r\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\r\n       const res = await profileAPI.getUserStatus(userId)\r\n       dispatch(getUserStatus(res.data))\r\n    }\r\n\r\nexport const updateOwnProfileStatus = (status: string): ThunkType =>\r\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\r\n       const data = await profileAPI.updateOwnProfileStatus(status)\r\n       if (data.resultCode === 0) {\r\n          dispatch(setOwnProfileStatus(status))\r\n       }\r\n    }\r\n\r\nexport const savePhoto = (file: File): ThunkType =>\r\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\r\n       const data = await profileAPI.savePhoto(file)\r\n       if (data.resultCode === 0) {\r\n          dispatch(savePhotoSuccess(data.data.photos))\r\n       }\r\n    }\r\n\r\nexport const saveProfileData = (profile: ProfileType): ThunkType =>\r\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType | FormAction>, getState) => {\r\n       const userId = getState().authState.id\r\n       const data = await profileAPI.saveProfile(profile)\r\n       if (data.resultCode === 0) {\r\n          dispatch(getUserProfileData(userId as number))\r\n       } else {\r\n          //need changing error for different fields\r\n          // dispatch(stopSubmit('edit-profile', {'contacts': {'facebook': messages}}))\r\n          const messages = data.messages.length > 0 ? data.messages[0] : 'some error'\r\n          dispatch(stopSubmit('profile-data', {_error: messages}))\r\n          return Promise.reject(messages)\r\n       }\r\n    }\r\n\r\n//Type\r\ntype ThunkType = ThunkAction<void, AppStateType, unknown, ActionsType>\r\n\r\ntype ActionsType =\r\n    ReturnType<typeof addPost> |\r\n    ReturnType<typeof setUserProfileData> |\r\n    ReturnType<typeof getUserStatus> |\r\n    ReturnType<typeof setOwnProfileStatus> |\r\n    ReturnType<typeof savePhotoSuccess>\r\n\r\nexport type PostType = {\r\n   id: number\r\n   message: string\r\n   likeCount: number\r\n}\r\nexport type ContactType = {\r\n   github: string\r\n   vk: string\r\n   facebook: string\r\n   instagram: string\r\n   twitter: string\r\n   website: string\r\n   youtube: string\r\n   mainLink: string\r\n}\r\n\r\nexport type PhotosType = {\r\n   small: string | null\r\n   large: string | null\r\n}\r\n\r\nexport type ProfileType = {\r\n   userId: number\r\n   lookingForAJob: boolean\r\n   lookingForAJobDescription: string\r\n   fullName: string\r\n   contacts: ContactType\r\n   aboutMe: string\r\n   photos: PhotosType\r\n}\r\n\r\n\r\n","let initializeState: DialogInitPageType = {\r\n   dialogs: [\r\n      {id: 1, name: 'Stanislav Ivanov'},\r\n      {id: 2, name: 'Egor Ivanov'},\r\n      {id: 3, name: 'Sergey Ivanov'},\r\n   ],\r\n   messages: [\r\n      {id: 1, message: 'Detract yet delight written farther'},\r\n      {id: 2, message: 'An stairs as be lovers'},\r\n      {id: 3, message: 'Unpleasant in in insensible favourable'},\r\n   ],\r\n}\r\n\r\nexport const dialogsReducer = (state: DialogInitPageType = initializeState,\r\n                               action: ActionsType): DialogInitPageType => {\r\n   switch (action.type) {\r\n      case 'DIALOGS/ADD-NEW-MESSAGE':\r\n         return {\r\n            ...state,\r\n            messages: [...state.messages, {id: 5, message: action.dialogNewMessageText}]\r\n         }\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\n//Action\r\nexport const addMessage = (dialogNewMessageText: string) =>\r\n    ({type: 'DIALOGS/ADD-NEW-MESSAGE', dialogNewMessageText} as const)\r\n\r\n//Types\r\ntype ActionsType = ReturnType<typeof addMessage>\r\nexport type DialogType = {\r\n   id: number\r\n   name: string\r\n}\r\nexport type MessageType = {\r\n   id: number\r\n   message: string\r\n}\r\nexport type DialogInitPageType = {\r\n   dialogs: Array<DialogType>\r\n   messages: Array<MessageType>\r\n}\r\n\r\n","import axios from 'axios'\r\n\r\nexport const axiosInstance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': 'ec9092bf-d7c1-484e-b4e6-892ed49a92ea'\r\n    },\r\n})\r\n","import {axiosInstance} from './api';\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return axiosInstance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(res => res.data)\r\n    },\r\n\r\n    unfollow(userId: number) {\r\n        return axiosInstance.delete(`follow/${userId}`)\r\n            .then(res => res.data)\r\n    },\r\n\r\n    follow(userId: number) {\r\n        return axiosInstance.post(`follow/${userId}`, {})\r\n            .then(res => res.data)\r\n    },\r\n}","import {AppStateType} from './store'\r\nimport {ThunkAction, ThunkDispatch} from 'redux-thunk'\r\nimport {usersAPI} from '../u5-api/user-api'\r\n\r\nlet initializeState: UsersInitializeStateType = {\r\n   users: [],\r\n   totalUsersCount: 0,\r\n   pageSize: 5,\r\n   currentPage: 5,\r\n   isFetching: false,\r\n   followingInProgress: []\r\n}\r\n\r\nexport const usersReducer = (state: UsersInitializeStateType = initializeState, action: ActionsType): UsersInitializeStateType => {\r\n   switch (action.type) {\r\n      case 'USERS/FOLLOW':\r\n         return {\r\n            ...state,\r\n            users: state.users.map(u => {\r\n               if (u.id === action.userID) {\r\n                  return {...u, followed: true}\r\n               }\r\n               return u\r\n            })\r\n         }\r\n      case 'USERS/UNFOLLOW':\r\n         return {\r\n            ...state,\r\n            users: state.users.map(u => {\r\n               if (u.id === action.userID) {\r\n                  return {...u, followed: false}\r\n               }\r\n               return u\r\n            })\r\n         }\r\n      case 'USERS/SET-USERS':\r\n         return {...state, users: [...action.users]}\r\n      case 'USERS/SET-CURRENT-PAGE':\r\n         return {...state, currentPage: action.currentPage}\r\n      case 'USERS/SET-USERS-TOTAL-COUNT':\r\n         return {...state, totalUsersCount: action.totalCount}\r\n      case 'USERS/TOGGLE-IS-FETCHING':\r\n         return {...state, isFetching: action.isFetching}\r\n      case 'USERS/FOLLOWING-IN-PROGRESS':\r\n         return {\r\n            ...state,\r\n            followingInProgress: action.payload.isFetching\r\n                ? [...state.followingInProgress, action.payload.userId]\r\n                : state.followingInProgress.filter(id => id !== action.payload.userId)\r\n         }\r\n      default:\r\n         return state\r\n   }\r\n}\r\n\r\n//Action\r\nexport const followSuccess = (userID: number) => ({type: 'USERS/FOLLOW', userID} as const)\r\nexport const unfollowSuccess = (userID: number) => ({type: 'USERS/UNFOLLOW', userID} as const)\r\nexport const setUsers = (users: Array<UsersType>) => ({type: 'USERS/SET-USERS', users} as const)\r\nexport const setCurrentPage = (currentPage: number) => ({\r\n   type: 'USERS/SET-CURRENT-PAGE',\r\n   currentPage\r\n} as const)\r\nexport const setUsersTotalCount = (totalCount: number) => ({\r\n   type: 'USERS/SET-USERS-TOTAL-COUNT',\r\n   totalCount\r\n} as const)\r\nexport const toggleIsFetching = (isFetching: boolean) => ({\r\n   type: 'USERS/TOGGLE-IS-FETCHING', isFetching\r\n} as const)\r\nexport const toggleFollowingProgress = (isFetching: boolean, userId: number) => ({\r\n   type: 'USERS/FOLLOWING-IN-PROGRESS',\r\n   payload: {\r\n      isFetching,\r\n      userId\r\n   }\r\n} as const)\r\n\r\n//Thunk\r\nexport const requestUsers = (requestPage: number, pageSize: number): ThunkType =>\r\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\r\n       dispatch(toggleIsFetching(true))\r\n       dispatch(setCurrentPage(requestPage))\r\n       const data = await usersAPI.getUsers(requestPage, pageSize)\r\n       dispatch(toggleIsFetching(false))\r\n       dispatch(setUsers(data.items))\r\n       dispatch(setUsersTotalCount(data.totalCount))\r\n    }\r\n\r\nexport const follow = (id: number): ThunkType =>\r\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\r\n       dispatch(toggleFollowingProgress(true, id))\r\n       const data = await usersAPI.follow(id)\r\n       if (data.resultCode === 0) {\r\n          dispatch(followSuccess(id))\r\n       }\r\n       dispatch(toggleFollowingProgress(false, id))\r\n    }\r\n\r\nexport const unfollow = (id: number): ThunkType =>\r\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\r\n       dispatch(toggleFollowingProgress(true, id))\r\n       const data = await usersAPI.unfollow(id)\r\n       if (data.resultCode === 0) {\r\n          dispatch(unfollowSuccess(id))\r\n       }\r\n       dispatch(toggleFollowingProgress(false, id))\r\n    }\r\n\r\n//Type\r\ntype ThunkType = ThunkAction<void, AppStateType, unknown, ActionsType>\r\ntype ActionsType =\r\n    ReturnType<typeof followSuccess> |\r\n    ReturnType<typeof unfollowSuccess> |\r\n    ReturnType<typeof setUsers> |\r\n    ReturnType<typeof setCurrentPage> |\r\n    ReturnType<typeof setUsersTotalCount> |\r\n    ReturnType<typeof toggleIsFetching> |\r\n    ReturnType<typeof toggleFollowingProgress>\r\n\r\nexport type PhotosType = {\r\n   small: string | null\r\n   large: string | null\r\n}\r\nexport type UsersType = {\r\n   id: number\r\n   name: string\r\n   status: string\r\n   photos: PhotosType\r\n   followed: boolean\r\n}\r\nexport type UsersInitializeStateType = {\r\n   users: Array<UsersType>\r\n   totalUsersCount: number\r\n   pageSize: number\r\n   currentPage: number\r\n   isFetching: boolean\r\n   followingInProgress: Array<number>\r\n}\r\n\r\n\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.56310f43.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/preloader.5861c44d.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__1e2i3\"};"],"sourceRoot":""}